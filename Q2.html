<!doctype html>
<html>

<head>

  <title>
    
      NGW & IGW | Idea Switching
    
  </title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <!-- Use Atom -->
  <link type="application/atom+xml" rel="alternate" href="/rss-feed.xml" title="Idea Switching" />
  <!-- Use RSS-2.0 -->
  <!--<link href="/rss-feed.xml" type="application/rss+xml" rel="alternate" title="Idea Switching | Networking, Security, Automation & Development"/>
  //-->

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      });
  </script>

  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-112060364-1', 'auto');
  ga('send', 'pageview');
</script>


  <!-- Use Jekyll SEO plugin -->
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>NGW &amp; IGW | Idea Switching</title>
<meta name="generator" content="Jekyll v3.6.3" />
<meta property="og:title" content="NGW &amp; IGW" />
<meta name="author" content="Ken Lai" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Application servers currently deployed in a private subnet require the ability to integrate with a third-party service accessible through the Internet." />
<meta property="og:description" content="Application servers currently deployed in a private subnet require the ability to integrate with a third-party service accessible through the Internet." />
<meta property="og:site_name" content="Idea Switching" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-19T00:00:00+00:00" />
<script type="application/ld+json">
{"description":"Application servers currently deployed in a private subnet require the ability to integrate with a third-party service accessible through the Internet.","@type":"BlogPosting","headline":"NGW &amp; IGW","url":"/Q2","dateModified":"2019-09-19T00:00:00+00:00","datePublished":"2019-09-19T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/Q2"},"author":{"@type":"Person","name":"Ken Lai"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


</head>


<body>

  <div class="container">
    <header class="masthead">
  <h3 class="masthead-title">
    <a href="/">Idea Switching</a>
    <small class="masthead-subtitle">Networking, Security, Automation & Development</small>
    <div class="menu">
  <nav class="menu-content">
    
      <a href="/menu/about.html">About</a>
    
      <a href="/menu/writing.html">Writing</a>
    
      <a href="/menu/contact.html">Contact</a>
    
  </nav>
  <nav class="social-icons">
    
  
  
    <a href="https://www.github.com/lenpaul" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
  

  
  
    <a href="https://twitter.com/paululele" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  

  
  
    <a href="http://www.linkedin.com/in/lenpaul/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
  

  
  
    <a href="mailto:l.nguyen.paul@gmail.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  

  
  
    <a href="/feed.xml"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
  

  </nav>
</div>

  </h3>
</header>


    <div class="post-container">
      <h1>
  NGW & IGW
</h1>



<p>Application servers currently deployed in a private subnet require the ability to integrate with a third-party service accessible through the Internet.</p>

<!-- more -->

<p>Which changes are required to provide outbound Internet connectivity in the VPC without providing inbound Internet connectivity to the application servers?</p>

<ol>
  <li>Create a NAT Gateway without attaching an Internet Gateway to the VPC.</li>
  <li>Create a NAT Gateway and attach an Internet Gateway to the VPC.</li>
  <li>Attach an Internet Gateway to the VPC without creating a NAT Gateway.</li>
  <li>Attach a Virtual Private Gateway to the VPC and create a NAT Gateway.</li>
</ol>

<hr />

<p>问题中明确了：</p>
<ul>
  <li><strong>能够通过访问互联网</strong>。这一点应该是暗示Internet Gateway。</li>
</ul>

<blockquote>
  <p><a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html">that allows communication between instances in your VPC and the internet</a></p>
</blockquote>

<ul>
  <li><strong>但是并不需要互联网能够回访</strong>。这一点应该是暗示NAT Gateway。</li>
</ul>

<blockquote>
  <p><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html">enable instances in a private subnet to connect to the internet or other AWS services, but prevent the internet from initiating a connection with those instances.</a></p>
</blockquote>

<p>对于两种网关，NAT Gateway中的图示很有参考价值，表明了两者的职责和区别。</p>
<blockquote>
  <p>The following diagram illustrates the architecture of a VPC with a NAT gateway. The main route table sends internet traffic from the instances in the private subnet to the NAT gateway. The NAT gateway sends the traffic to the internet gateway using the NAT gateway’s Elastic IP address as the source IP address.
<img src="https://i.imgur.com/7COfpVf.png" alt="" /></p>
</blockquote>

<p>而第4个答案中的Virtual Private Gate是Site-to-Site VPN的终结点。可以很容易排除。</p>


<span class="post-date">
  Written on
  
  September
  19th,
  2019
  by
  
    Ken Lai
  
</span>

<div class="post-date">Feel free to share!</div>
  <div class="sharing-icons">
    <a href="https://twitter.com/intent/tweet?text=NGW & IGW&amp;url=/Q2" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=/Q2&amp;title=NGW & IGW" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
  </div>
</div>


<div class="related">
  <h1 >You may also enjoy:</h1>
  
  <ul class="related-posts">
    
      
        
          <li>
            <h3>
              <a href="/Q59-SAA">
                Not perfect, but works at least
                <!--<img src="/images/">-->
                <!--<small>October 17, 2019</small>-->
              </a>
            </h3>
          </li>
          
        
      
        
          <li>
            <h3>
              <a href="/SAP%E8%80%83%E8%AF%95%E8%AE%A4%E8%AF%81%E5%BF%83%E5%BE%97">
                Amazon Solutions Architect - Professional 认证心得
                <!--<img src="/images/">-->
                <!--<small>October 5, 2019</small>-->
              </a>
            </h3>
          </li>
          
        
      
        
          <li>
            <h3>
              <a href="/Q5">
                Miss a step, miss the whole
                <!--<img src="/images/">-->
                <!--<small>September 26, 2019</small>-->
              </a>
            </h3>
          </li>
          
        
      
    
      
        
        
      
    
      
        
        
      
    
      
        
        
      
    
  </ul>
</div>




    </div>

    <footer class="footer">
  
  
  
    <a href="https://www.github.com/lenpaul" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
  

  
  
    <a href="https://twitter.com/paululele" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  

  
  
    <a href="http://www.linkedin.com/in/lenpaul/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
  

  
  
    <a href="mailto:l.nguyen.paul@gmail.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  

  
  
    <a href="/feed.xml"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
  

  <div class="post-date"><a href="/menu/about.html">Idea Switching | Networking, Security, Automation & Development by Ken Lai</a></div>
</footer>

  </div>

</body>
</html>
